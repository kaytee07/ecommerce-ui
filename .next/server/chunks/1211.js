"use strict";exports.id=1211,exports.ids=[1211],exports.modules={86333:(e,s,r)=>{r.d(s,{Z:()=>t});let t=(0,r(62881).Z)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},83855:(e,s,r)=>{r.d(s,{Z:()=>t});let t=(0,r(62881).Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},30098:(e,s,r)=>{r.d(s,{x:()=>o});var t=r(10326),a=r(17577);let l=(0,r(62881).Z)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);var n=r(941),d=r(83855),i=r(94019),c=r(24660);function o({attributes:e={},onChange:s,categoryId:r,className:o=""}){let[x,p]=(0,a.useState)([]),[m,u]=(0,a.useState)([]),[g,y]=(0,a.useState)([]),[h,b]=(0,a.useState)([]),[j,f]=(0,a.useState)(!1),[N,v]=(0,a.useState)(!1),k=(r,t)=>{s({...e,[r]:t})},w=()=>{u([...m,{key:"",value:"",type:"string"}])},C=r=>{let t={...e};r.length>0?t.options=r:delete t.options,s(t)},S=()=>{let e=[...g,{name:"",values:[],required:!1}];y(e),b(e=>[...e,""]),C(e)},A=(e,s,r)=>{let t=[...g],a=t[e];if(a){if("values"===s&&"string"==typeof r){let s=r.split(",").map(e=>e.trim()).filter(e=>e.length>0);t[e]={...a,values:s}}else"required"===s&&"boolean"==typeof r?t[e]={...a,required:r}:"name"===s&&"string"==typeof r&&(t[e]={...a,name:r});y(t),C(t)}},Z=e=>{let s=g.filter((s,r)=>r!==e);y(s),b(s=>s.filter((s,r)=>r!==e)),C(s)},T=(e,s)=>{b(r=>{let t=[...r];return t[e]=s,t})},O=e=>{let s=h[e]?.trim();if(!s)return;let r=[...g],t=r[e];if(!t)return;let a=t.values.includes(s)?t.values:[...t.values,s];r[e]={...t,values:a},y(r),b(s=>{let r=[...s];return r[e]="",r}),C(r)},z=(e,s)=>{let r=[...g],t=r[e];t&&(r[e]={...t,values:t.values.filter(e=>e!==s)},y(r),C(r))},L=(r,t,a)=>{let l=[...m],n=l[r];l[r]={...l[r],[t]:a},u(l);let d=l[r].key,i=l[r].value,c=l[r].type,o={...e};if("key"===t&&n.key&&n.key!==d&&delete o[n.key],d){let e=i;"number"===c?e=""===i?"":Number(i):"boolean"===c&&(e="true"===i||!0===i),o[d]=e}s(o)},q=r=>{let t=m[r].key;if(u(m.filter((e,s)=>s!==r)),t){let r={...e};delete r[t],s(r)}},E=s=>{let r=e[s.key]||"";switch(s.dataType){case"SELECT":return(0,t.jsxs)("div",{className:"space-y-1",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:s.displayLabel}),(0,t.jsxs)("select",{value:r,onChange:e=>k(s.key,e.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:border-primary focus:ring-1 focus:ring-primary",children:[(0,t.jsxs)("option",{value:"",children:["Select ",s.displayLabel]}),s.options?.map(e=>t.jsx("option",{value:e,children:e},e))]}),s.helpText&&t.jsx("p",{className:"text-xs text-gray-500",children:s.helpText})]},s.key);case"NUMBER":return(0,t.jsxs)("div",{className:"space-y-1",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:s.displayLabel}),t.jsx("input",{type:"number",value:r,onChange:e=>k(s.key,Number(e.target.value)),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:border-primary focus:ring-1 focus:ring-primary"}),s.helpText&&t.jsx("p",{className:"text-xs text-gray-500",children:s.helpText})]},s.key);case"BOOLEAN":return(0,t.jsxs)("div",{className:"flex items-center gap-2 py-2",children:[t.jsx("input",{type:"checkbox",id:s.key,checked:!0===r,onChange:e=>k(s.key,e.target.checked),className:"h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded"}),t.jsx("label",{htmlFor:s.key,className:"text-sm font-medium text-gray-700",children:s.displayLabel}),s.helpText&&(0,t.jsxs)("span",{className:"text-xs text-gray-500 ml-2",children:["(",s.helpText,")"]})]},s.key);default:return(0,t.jsxs)("div",{className:"space-y-1",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:s.displayLabel}),t.jsx("input",{type:"text",value:r,onChange:e=>k(s.key,e.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:border-primary focus:ring-1 focus:ring-primary"}),s.helpText&&t.jsx("p",{className:"text-xs text-gray-500",children:s.helpText})]},s.key)}},M=Object.keys(e).filter(e=>"options"!==e).length,B=M+(g.length>0?1:0),D=x.length>0||m.length>0||g.length>0||B>0;return(0,t.jsxs)("div",{className:`border border-gray-200 rounded-lg ${o}`,children:[(0,t.jsxs)("button",{type:"button",onClick:()=>v(!N),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 transition-colors",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx("h3",{className:"text-base font-semibold text-gray-900",children:"Product Specifications"}),t.jsx("span",{className:"text-xs text-gray-500 font-normal",children:"(Optional)"}),D&&!N&&(0,t.jsxs)("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded-full",children:[B," added"]})]}),N?t.jsx(l,{className:"h-5 w-5 text-gray-400"}):t.jsx(n.Z,{className:"h-5 w-5 text-gray-400"})]}),N&&(0,t.jsxs)("div",{className:"p-4 pt-0 space-y-6 border-t border-gray-100",children:[j&&t.jsx("div",{className:"text-sm text-gray-500",children:"Loading templates..."}),!r&&!j&&t.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:(0,t.jsxs)("p",{className:"text-xs text-blue-800",children:[t.jsx("strong",{children:"Tip:"})," Select a category above to see recommended specifications."]})}),x.length>0&&(0,t.jsxs)("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Suggested Specifications"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:x.sort((e,s)=>(e.displayOrder||0)-(s.displayOrder||0)).map(e=>E(e))})]}),(0,t.jsxs)("div",{className:x.length>0?"border-t pt-4 mt-4":"",children:[t.jsx("div",{className:"flex items-center justify-between mb-3",children:(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Product Options"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Add selectable options like size, color, material, or capacity."})]})}),0===g.length?(0,t.jsxs)("div",{className:"text-center py-6 bg-gray-50 rounded-lg border border-dashed border-gray-300",children:[t.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"No options added"}),(0,t.jsxs)(c.zx,{onClick:S,variant:"outline",size:"sm",children:[t.jsx(d.Z,{className:"h-4 w-4 mr-1"}),"Add Option Group"]})]}):(0,t.jsxs)("div",{className:"space-y-3",children:[g.map((e,s)=>(0,t.jsxs)("div",{className:"space-y-3 rounded-lg border border-gray-200 p-3 bg-white",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"text",placeholder:"Option name (e.g., Size)",value:e.name,onChange:e=>A(s,"name",e.target.value),className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:border-primary focus:ring-1 focus:ring-primary"}),(0,t.jsxs)("label",{className:"flex items-center gap-2 text-xs text-gray-600",children:[t.jsx("input",{type:"checkbox",checked:!0===e.required,onChange:e=>A(s,"required",e.target.checked),className:"h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded"}),"Required"]}),t.jsx("button",{type:"button",onClick:()=>Z(s),className:"p-2 text-gray-400 hover:text-error transition-colors",children:t.jsx(i.Z,{className:"h-4 w-4"})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"text",placeholder:"Add a value (e.g., Medium)",value:h[s]||"",onChange:e=>T(s,e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),O(s))},className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:border-primary focus:ring-1 focus:ring-primary"}),t.jsx(c.zx,{type:"button",variant:"outline",size:"sm",onClick:()=>O(s),children:"Add"})]}),e.values.length>0?t.jsx("div",{className:"flex flex-wrap gap-2",children:e.values.map(e=>(0,t.jsxs)("span",{className:"inline-flex items-center gap-1 rounded-full border border-gray-200 bg-gray-50 px-2 py-1 text-xs text-gray-700",children:[e,t.jsx("button",{type:"button",onClick:()=>z(s,e),className:"text-gray-400 hover:text-error",children:t.jsx(i.Z,{className:"h-3 w-3"})})]},e))}):t.jsx("p",{className:"text-xs text-gray-500",children:"Add at least one value."})]},s)),(0,t.jsxs)("button",{type:"button",onClick:S,className:"w-full px-3 py-2 text-sm text-gray-600 border border-dashed border-gray-300 rounded-lg hover:border-gray-400 hover:bg-gray-50 transition-colors",children:[t.jsx(d.Z,{className:"h-4 w-4 inline mr-1"}),"Add Another Option"]})]})]}),(0,t.jsxs)("div",{className:x.length>0||g.length>0?"border-t pt-4 mt-4":"",children:[t.jsx("div",{className:"flex items-center justify-between mb-3",children:(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Additional Specifications"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Add any extra details about your product"})]})}),0===m.length?(0,t.jsxs)("div",{className:"text-center py-6 bg-gray-50 rounded-lg border border-dashed border-gray-300",children:[t.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"No additional specifications"}),(0,t.jsxs)(c.zx,{onClick:w,variant:"outline",size:"sm",children:[t.jsx(d.Z,{className:"h-4 w-4 mr-1"}),"Add Specification"]})]}):(0,t.jsxs)("div",{className:"space-y-2",children:[m.map((e,s)=>(0,t.jsxs)("div",{className:"flex gap-2 items-center bg-gray-50 p-2 rounded-lg",children:[t.jsx("input",{type:"text",placeholder:"Name (e.g., Warranty)",value:e.key,onChange:e=>L(s,"key",e.target.value),className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:border-primary focus:ring-1 focus:ring-primary"}),t.jsx("input",{type:"number"===e.type?"number":"text",placeholder:"Value (e.g., 2 years)",value:"boolean"==typeof e.value?String(e.value):e.value,onChange:e=>L(s,"value",e.target.value),className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:border-primary focus:ring-1 focus:ring-primary"}),(0,t.jsxs)("select",{value:e.type||"string",onChange:e=>L(s,"type",e.target.value),className:"w-24 px-2 py-2 text-sm border border-gray-300 rounded-lg focus:border-primary focus:ring-1 focus:ring-primary",children:[t.jsx("option",{value:"string",children:"Text"}),t.jsx("option",{value:"number",children:"Number"})]}),t.jsx("button",{type:"button",onClick:()=>q(s),className:"p-2 text-gray-400 hover:text-error transition-colors",children:t.jsx(i.Z,{className:"h-4 w-4"})})]},s)),(0,t.jsxs)("button",{type:"button",onClick:w,className:"w-full px-3 py-2 text-sm text-gray-600 border border-dashed border-gray-300 rounded-lg hover:border-gray-400 hover:bg-gray-50 transition-colors",children:[t.jsx(d.Z,{className:"h-4 w-4 inline mr-1"}),"Add Another"]})]}),B>0&&(0,t.jsxs)("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[(0,t.jsxs)("h5",{className:"text-xs font-medium text-blue-900 mb-2",children:[B," specification",1!==B?"s":""," added"]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[Object.entries(e).filter(([e])=>"options"!==e).slice(0,5).map(([e,s])=>(0,t.jsxs)("span",{className:"text-xs bg-white px-2 py-1 rounded border border-blue-200",children:[(0,t.jsxs)("span",{className:"font-medium text-gray-700",children:[e,":"]})," ",t.jsx("span",{className:"text-gray-600",children:String(s).substring(0,20)})]},e)),g.length>0&&(0,t.jsxs)("span",{className:"text-xs bg-white px-2 py-1 rounded border border-blue-200",children:[t.jsx("span",{className:"font-medium text-gray-700",children:"options:"})," ",(0,t.jsxs)("span",{className:"text-gray-600",children:[g.length," group",1!==g.length?"s":""]})]}),M>5&&(0,t.jsxs)("span",{className:"text-xs text-blue-700",children:["+",M-5," more"]})]})]})]})]})]})}}};
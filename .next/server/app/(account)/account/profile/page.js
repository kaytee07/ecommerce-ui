(()=>{var e={};e.id=7017,e.ids=[7017],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},17300:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c}),s(61930),s(21838),s(35866),s(64968);var t=s(23191),a=s(88716),o=s(37922),i=s.n(o),n=s(95231),l={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);s.d(r,l);let c=["",{children:["(account)",{children:["account",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,61930)),"/Users/kofitaylor/business/ecommerce-engine-frontend/src/app/(account)/account/profile/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,21838)),"/Users/kofitaylor/business/ecommerce-engine-frontend/src/app/(account)/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,64968)),"/Users/kofitaylor/business/ecommerce-engine-frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/kofitaylor/business/ecommerce-engine-frontend/src/app/(account)/account/profile/page.tsx"],u="/(account)/account/profile/page",m={require:s,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(account)/account/profile/page",pathname:"/account/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},48958:(e,r,s)=>{Promise.resolve().then(s.bind(s,22092))},94343:(e,r,s)=>{Promise.resolve().then(s.bind(s,18359))},77636:(e,r,s)=>{"use strict";s.d(r,{Z:()=>t});let t=(0,s(62881).Z)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},22092:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>d});var t=s(10326),a=s(17577),o=s(74723),i=s(75248),n=s(55137),l=s(24660),c=s(75367);function d(){let{user:e,setUser:r}=(0,i.t)(),s=(0,c.p)(),[d,u]=(0,a.useState)(!1),[m,p]=(0,a.useState)(!1),x=(0,o.cI)({defaultValues:{fullName:e?.fullName||"",email:e?.email||""}}),f=(0,o.cI)(),h=async t=>{u(!0);try{let a=await n.x.put(`/users/${e?.id}`,t);r(a.data.data),s.success("Profile updated successfully")}catch(e){s.error("Failed to update profile")}finally{u(!1)}},g=async e=>{if(e.newPassword!==e.confirmPassword){f.setError("confirmPassword",{message:"Passwords do not match"});return}p(!0);try{await n.x.post("/auth/change-password",{currentPassword:e.currentPassword,newPassword:e.newPassword});let t=await n.x.get("/auth/me");r(t.data.data),f.reset(),s.success("Password updated successfully")}catch(e){s.error(e.response?.data?.message||"Failed to update password")}finally{p(!1)}};return(0,t.jsxs)("div",{className:"space-y-8",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Account Settings"}),e?.mustChangePassword&&t.jsx("div",{className:"p-4 bg-yellow-50 text-yellow-800 rounded-lg",children:"You must change your password before continuing to other areas of the app."}),(0,t.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[t.jsx("h2",{className:"font-semibold text-gray-900 mb-6",children:"Profile Information"}),(0,t.jsxs)("form",{onSubmit:x.handleSubmit(h),className:"space-y-4 max-w-md",children:[t.jsx(l.II,{label:"Full Name",...x.register("fullName",{required:"Name is required"}),error:x.formState.errors.fullName?.message}),t.jsx(l.II,{label:"Email",type:"email",disabled:!0,className:"bg-gray-50",...x.register("email")}),t.jsx("p",{className:"text-xs text-gray-500 -mt-2",children:"Email cannot be changed"}),t.jsx(l.zx,{type:"submit",isLoading:d,children:"Save Changes"})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[t.jsx("h2",{className:"font-semibold text-gray-900 mb-6",children:"Change Password"}),(0,t.jsxs)("form",{onSubmit:f.handleSubmit(g),className:"space-y-4 max-w-md",children:[t.jsx(l.II,{label:"Current Password",type:"password",...f.register("currentPassword",{required:"Current password is required"}),error:f.formState.errors.currentPassword?.message}),t.jsx(l.II,{label:"New Password",type:"password",...f.register("newPassword",{required:"New password is required",minLength:{value:8,message:"Password must be at least 8 characters"}}),error:f.formState.errors.newPassword?.message}),t.jsx(l.II,{label:"Confirm New Password",type:"password",...f.register("confirmPassword",{required:"Please confirm your password"}),error:f.formState.errors.confirmPassword?.message}),t.jsx(l.zx,{type:"submit",isLoading:m,children:"Update Password"})]})]})]})}},18359:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>g});var t=s(10326);s(17577);var a=s(35047),o=s(90434),i=s(75248),n=s(54075),l=s(56285),c=s(24660),d=s(79635),u=s(48705),m=s(77636),p=s(88378),x=s(71810),f=s(63171);let h=[{href:"/account",label:"Overview",icon:d.Z},{href:"/account/orders",label:"Orders",icon:u.Z},{href:"/account/addresses",label:"Addresses",icon:m.Z},{href:"/account/profile",label:"Settings",icon:p.Z}];function g({children:e}){(0,a.useRouter)();let r=(0,a.usePathname)(),{isAuthenticated:s,isLoading:d,user:u,logout:m}=(0,i.t)();return d?t.jsx(c.AA,{}):s?(0,t.jsxs)(t.Fragment,{children:[t.jsx(n.Header,{}),t.jsx("main",{className:"flex-1 bg-gray-50",children:t.jsx("div",{className:"container-wide py-8",children:(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row gap-8",children:[t.jsx("aside",{className:"lg:w-64 flex-shrink-0",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,t.jsxs)("div",{className:"mb-6",children:[t.jsx("h2",{className:"font-semibold text-gray-900",children:u?.fullName}),t.jsx("p",{className:"text-sm text-gray-500",children:u?.email})]}),(0,t.jsxs)("nav",{className:"space-y-1",children:[h.map(e=>{let s=e.icon,a=r===e.href||"/account"!==e.href&&r.startsWith(e.href);return(0,t.jsxs)(o.default,{href:e.href,className:(0,f.cn)("flex items-center gap-3 px-3 py-2 rounded-lg transition-colors",a?"bg-primary text-white":"text-gray-700 hover:bg-gray-100"),children:[t.jsx(s,{className:"h-5 w-5"}),e.label]},e.href)}),(0,t.jsxs)("button",{onClick:()=>m(),className:"flex items-center gap-3 px-3 py-2 rounded-lg text-error hover:bg-error-bg w-full",children:[t.jsx(x.Z,{className:"h-5 w-5"}),"Sign out"]})]})]})}),t.jsx("div",{className:"flex-1 min-w-0",children:e})]})})}),t.jsx(l.Footer,{})]}):null}},61930:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>t});let t=(0,s(68570).createProxy)(String.raw`/Users/kofitaylor/business/ecommerce-engine-frontend/src/app/(account)/account/profile/page.tsx#default`)},21838:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>t});let t=(0,s(68570).createProxy)(String.raw`/Users/kofitaylor/business/ecommerce-engine-frontend/src/app/(account)/layout.tsx#default`)}};var r=require("../../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[9977,2948,8454,1984,4660,1094],()=>s(17300));module.exports=t})();
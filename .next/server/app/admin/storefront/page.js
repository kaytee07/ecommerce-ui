(()=>{var e={};e.id=7230,e.ids=[7230],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},17963:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>d,routeModule:()=>x,tree:()=>c}),a(1424),a(9457),a(64968),a(35866);var r=a(23191),s=a(88716),l=a(37922),n=a.n(l),i=a(95231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);a.d(t,o);let c=["",{children:["admin",{children:["storefront",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,1424)),"/Users/kofitaylor/business/ecommerce-engine-frontend/src/app/admin/storefront/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,9457)),"/Users/kofitaylor/business/ecommerce-engine-frontend/src/app/admin/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,64968)),"/Users/kofitaylor/business/ecommerce-engine-frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/kofitaylor/business/ecommerce-engine-frontend/src/app/admin/storefront/page.tsx"],p="/admin/storefront/page",u={require:a,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/admin/storefront/page",pathname:"/admin/storefront",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},98197:(e,t,a)=>{Promise.resolve().then(a.bind(a,59028))},36283:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(62881).Z)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},77506:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(62881).Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},57671:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(62881).Z)("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},1572:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(62881).Z)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]])},63685:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(62881).Z)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]])},59028:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var r=a(10326),s=a(17577),l=a(46226),n=a(55137),i=a(24660),o=a(1572),c=a(71709);let d=(0,a(62881).Z)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var p=a(63171);let u=["PRIMARY","SECONDARY"],x=()=>({eyebrow:"",headline:"",subheadline:"",ctaText:"",ctaLink:"",imageUrl:"",active:!0});function m(){let[e,t]=(0,s.useState)([]),[a,m]=(0,s.useState)({PRIMARY:x(),SECONDARY:x()}),[h,g]=(0,s.useState)(!0),[y,v]=(0,s.useState)(null),[f,b]=(0,s.useState)(null),j=(e,t,a)=>{m(r=>({...r,[e]:{...r[e],[t]:a}}))},k=async e=>{b(null),v(e);try{let r=a[e],s=(await n.x.put(`/admin/storefront/banners/${e}`,r)).data.data;t(t=>[...t.filter(t=>t.slot!==e),s]),b(`${"PRIMARY"===e?"Primary":"Secondary"} banner updated.`)}catch(e){console.error("Failed to update banner",e),b("Failed to update banner. Please try again.")}finally{v(null)}},N=async(e,a)=>{let r=new FormData;r.append("file",a);let s=(await n.x.post(`/admin/storefront/banners/${e}/image`,r,{headers:{"Content-Type":"multipart/form-data"}})).data.data;t(t=>[...t.filter(t=>t.slot!==e),s]),m(t=>({...t,[e]:{...t[e],imageUrl:s.imageUrl||""}}))},w=(0,s.useMemo)(()=>{let e={PRIMARY:null,SECONDARY:null};return u.forEach(t=>{let r=a[t].imageUrl;e[t]=r||null}),e},[a]);return(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[r.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Storefront Banners"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Update the hero and secondary banners on the storefront homepage. Changes are live immediately."})]}),h?(0,r.jsxs)("div",{className:"flex items-center gap-3 text-gray-500",children:[r.jsx(i.$j,{size:"sm"}),"Loading banners..."]}):r.jsx("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:u.map(e=>{let t=a[e],s=w[e],n=y===e,u="PRIMARY"===e?"Primary Hero Banner":"Secondary Banner";return(0,r.jsxs)(i.Zb,{className:"p-6 space-y-5",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-xs uppercase tracking-widest text-gray-400",children:e}),r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:u})]}),(0,r.jsxs)("div",{className:(0,p.cn)("flex items-center gap-2 text-xs font-semibold px-3 py-1 rounded-full",t.active?"bg-emerald-100 text-emerald-700":"bg-gray-100 text-gray-500"),children:[r.jsx(o.Z,{className:"h-3.5 w-3.5"}),t.active?"Active":"Inactive"]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-xs uppercase tracking-widest text-gray-400 mb-2",children:"Upload Banner Image"}),r.jsx(i.Ur,{currentImage:t.imageUrl,onUpload:t=>N(e,t),onRemove:()=>j(e,"imageUrl","")})]}),r.jsx(i.II,{label:"Eyebrow",placeholder:"Short label (e.g. New Collection)",value:t.eyebrow,onChange:t=>j(e,"eyebrow",t.target.value)}),r.jsx(i.II,{label:"Headline",placeholder:"Main banner headline",value:t.headline,onChange:t=>j(e,"headline",t.target.value)}),r.jsx(i.II,{label:"Subheadline",placeholder:"Short supporting copy",value:t.subheadline,onChange:t=>j(e,"subheadline",t.target.value)}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(i.II,{label:"CTA Text",placeholder:"Button label",value:t.ctaText,onChange:t=>j(e,"ctaText",t.target.value)}),r.jsx(i.II,{label:"CTA Link",placeholder:"/products or https://",value:t.ctaLink,onChange:t=>j(e,"ctaLink",t.target.value)})]}),r.jsx(i.II,{label:"Image URL (optional)",placeholder:"Paste a URL instead of uploading",value:t.imageUrl,onChange:t=>j(e,"imageUrl",t.target.value)})]}),(0,r.jsxs)("div",{className:"border border-dashed border-gray-200 rounded-xl overflow-hidden",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 px-4 py-3 bg-gray-50 text-xs uppercase tracking-widest text-gray-500",children:[r.jsx(c.Z,{className:"h-4 w-4"}),"Preview"]}),r.jsx("div",{className:"relative aspect-[16/9] bg-gray-100",children:s?r.jsx(l.default,{src:s,alt:`${e} banner preview`,fill:!0,className:"object-cover"}):r.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-sm text-gray-400",children:"No image selected"})})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("label",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx("input",{type:"checkbox",checked:t.active,onChange:t=>j(e,"active",t.target.checked),className:"h-4 w-4 rounded border-gray-300"}),"Banner is active"]}),r.jsx(i.zx,{onClick:()=>k(e),disabled:n,className:"min-w-[150px] justify-center",children:n?(0,r.jsxs)("span",{className:"flex items-center gap-2",children:[r.jsx(i.$j,{size:"sm"}),"Saving..."]}):(0,r.jsxs)("span",{className:"flex items-center gap-2",children:[r.jsx(d,{className:"h-4 w-4"}),"Save banner"]})})]})]},e)})}),f&&r.jsx("div",{className:"text-sm text-gray-600",children:f})]})}},1424:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});let r=(0,a(68570).createProxy)(String.raw`/Users/kofitaylor/business/ecommerce-engine-frontend/src/app/admin/storefront/page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[9977,2948,1984,4660,889],()=>a(17963));module.exports=r})();
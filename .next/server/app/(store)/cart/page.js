(()=>{var e={};e.id=2102,e.ids=[2102],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},91656:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>u,tree:()=>d}),s(55166),s(78387),s(35866),s(64968);var r=s(23191),a=s(88716),i=s(37922),l=s.n(i),n=s(95231),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);s.d(t,c);let d=["",{children:["(store)",{children:["cart",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,55166)),"/Users/kofitaylor/business/ecommerce-engine-frontend/src/app/(store)/cart/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,78387)),"/Users/kofitaylor/business/ecommerce-engine-frontend/src/app/(store)/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,64968)),"/Users/kofitaylor/business/ecommerce-engine-frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],o=["/Users/kofitaylor/business/ecommerce-engine-frontend/src/app/(store)/cart/page.tsx"],x="/(store)/cart/page",m={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(store)/cart/page",pathname:"/cart",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},53018:(e,t,s)=>{Promise.resolve().then(s.bind(s,77230))},5736:(e,t,s)=>{Promise.resolve().then(s.bind(s,56285)),Promise.resolve().then(s.bind(s,54075))},24230:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},36283:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},77506:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},11019:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]])},83855:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},57671:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},98091:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},63685:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]])},77230:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var r=s(10326),a=s(17577),i=s(90434),l=s(46226),n=s(75248);s(55137);var c=s(63171),d=s(24660),o=s(50949),x=s(11019),m=s(83855),u=s(98091),p=s(24230);function h(){let{cart:e,isLoading:t,error:s,fetchCart:h,updateQuantity:y,removeItem:g,clearError:f}=(0,n.x)(),{isAuthenticated:j}=(0,n.t)(),[b,v]=(0,a.useState)(new Set),[N,k]=(0,a.useState)({}),[w,q]=(0,a.useState)(new Map),[M,P]=(0,a.useState)(new Map),Z=e=>e.itemKey||e.productId,S=async(e,t,s,r)=>{let a=s||e;v(e=>new Set(e).add(a));try{await y(e,t,s,r)}finally{v(e=>{let t=new Set(e);return t.delete(a),t})}},_=async(e,t)=>{let s=t||e;v(e=>new Set(e).add(s));try{await g(e,t)}finally{v(e=>{let t=new Set(e);return t.delete(s),t})}};if(t)return(0,r.jsxs)("div",{className:"container-wide py-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Shopping Cart"}),(0,r.jsxs)("div",{className:"grid lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"lg:col-span-2 space-y-4",children:[1,2,3].map(e=>r.jsx(d.Od,{className:"h-32 w-full rounded-lg"},e))}),r.jsx(d.Od,{className:"h-64 w-full rounded-lg"})]})]});if(!e||0===e.items.length)return r.jsx("div",{className:"container-wide py-12",children:r.jsx(d.Qd,{})});let O=Array.from(M.values()).some(e=>"Out of stock"===e);return(0,r.jsxs)("div",{className:"container-wide py-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Shopping Cart"}),s&&(0,r.jsxs)("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center gap-3",children:[r.jsx(o.Z,{className:"h-5 w-5 text-red-500 flex-shrink-0"}),r.jsx("p",{className:"text-red-700 flex-1",children:s}),r.jsx("button",{onClick:f,className:"text-red-500 hover:text-red-700 text-sm font-medium",children:"Dismiss"})]}),O&&(0,r.jsxs)("div",{className:"mb-6 p-4 bg-orange-50 border border-orange-200 rounded-lg flex items-center gap-3",children:[r.jsx(o.Z,{className:"h-5 w-5 text-orange-500 flex-shrink-0"}),r.jsx("p",{className:"text-orange-700",children:"Some items in your cart are out of stock. Please remove them to proceed to checkout."})]}),(0,r.jsxs)("div",{className:"grid lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"lg:col-span-2 space-y-4",children:e.items.map(e=>{let t=Z(e),s=M.get(t),a="Out of stock"===s,i=w.get(e.productId),n=i?.availableQuantity??999;return(0,r.jsxs)("div",{className:`flex gap-4 p-4 bg-white rounded-lg border ${a?"border-red-300 bg-red-50":s?"border-orange-200":"border-gray-200"}`,children:[(0,r.jsxs)("div",{className:"relative w-24 h-24 flex-shrink-0 bg-gray-100 rounded-lg overflow-hidden flex items-center justify-center text-gray-400 text-xs",children:[N[e.productId]?r.jsx(l.default,{src:N[e.productId],alt:e.productName,fill:!0,sizes:"96px",className:`object-cover ${a?"opacity-50":""}`}):"No Image",a&&r.jsx("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center",children:r.jsx("span",{className:"text-white text-xs font-medium",children:"Unavailable"})})]}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:`font-medium line-clamp-2 ${a?"text-gray-500":"text-gray-900"}`,children:e.productName}),r.jsx("p",{className:`font-semibold mt-1 ${a?"text-gray-400":"text-primary"}`,children:(0,c.xG)(e.priceAtAdd)}),e.selectedOptions&&Object.keys(e.selectedOptions).length>0&&r.jsx("div",{className:"mt-2 text-xs text-gray-500 space-y-1",children:Object.entries(e.selectedOptions).map(([e,t])=>(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"uppercase tracking-wider text-gray-400",children:e}),r.jsx("span",{className:"font-medium text-gray-600",children:t})]},e))}),s&&r.jsx("p",{className:`text-xs mt-1 font-medium ${a?"text-red-600":"text-orange-600"}`,children:s}),(0,r.jsxs)("div",{className:"flex items-center gap-4 mt-3",children:[(0,r.jsxs)("div",{className:`flex items-center border rounded-lg ${a?"border-gray-200 opacity-50":"border-gray-300"}`,children:[r.jsx("button",{onClick:()=>S(e.productId,e.quantity-1,e.itemKey,e.selectedOptions),disabled:e.quantity<=1||b.has(t)||a,className:"p-2 text-gray-500 hover:text-primary disabled:opacity-50",children:r.jsx(x.Z,{className:"h-4 w-4"})}),r.jsx("span",{className:"w-10 text-center text-sm font-medium",children:e.quantity}),r.jsx("button",{onClick:()=>S(e.productId,e.quantity+1,e.itemKey,e.selectedOptions),disabled:b.has(t)||a||e.quantity>=n,className:"p-2 text-gray-500 hover:text-primary disabled:opacity-50",children:r.jsx(m.Z,{className:"h-4 w-4"})})]}),r.jsx("button",{onClick:()=>_(e.productId,e.itemKey),disabled:b.has(t),className:"text-gray-400 hover:text-error disabled:opacity-50",children:r.jsx(u.Z,{className:"h-5 w-5"})})]})]}),r.jsx("div",{className:"text-right",children:r.jsx("p",{className:`font-semibold ${a?"text-gray-400 line-through":"text-gray-900"}`,children:(0,c.xG)(e.subtotal)})})]},t)})}),r.jsx("div",{className:"lg:col-span-1",children:(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6 sticky top-24",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Order Summary"}),(0,r.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,r.jsxs)("div",{className:"flex justify-between text-gray-600",children:[(0,r.jsxs)("span",{children:["Subtotal (",e.itemCount," items)"]}),r.jsx("span",{children:(0,c.xG)(e.totalAmount)})]}),(0,r.jsxs)("div",{className:"flex justify-between text-gray-600",children:[r.jsx("span",{children:"Shipping"}),r.jsx("span",{className:"text-sm",children:"Calculated at checkout"})]})]}),r.jsx("div",{className:"border-t border-gray-200 pt-4 mb-6",children:(0,r.jsxs)("div",{className:"flex justify-between text-lg font-semibold text-gray-900",children:[r.jsx("span",{children:"Total"}),r.jsx("span",{children:(0,c.xG)(e.totalAmount)})]})}),O?r.jsx(d.zx,{className:"w-full",size:"lg",disabled:!0,children:"Remove Out of Stock Items"}):r.jsx(i.default,{href:"/checkout",children:(0,r.jsxs)(d.zx,{className:"w-full",size:"lg",children:["Proceed to Checkout",r.jsx(p.Z,{className:"ml-2 h-5 w-5"})]})}),r.jsx(i.default,{href:"/products",className:"block text-center mt-4 text-sm text-gray-600 hover:text-primary",children:"Continue Shopping"})]})})]})]})}},55166:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(68570).createProxy)(String.raw`/Users/kofitaylor/business/ecommerce-engine-frontend/src/app/(store)/cart/page.tsx#default`)},78387:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var r=s(19510),a=s(68570);let i=(0,a.createProxy)(String.raw`/Users/kofitaylor/business/ecommerce-engine-frontend/src/components/layout/header.tsx#Header`),l=(0,a.createProxy)(String.raw`/Users/kofitaylor/business/ecommerce-engine-frontend/src/components/layout/footer.tsx#Footer`);function n({children:e}){return(0,r.jsxs)(r.Fragment,{children:[r.jsx(i,{}),r.jsx("main",{className:"flex-1 pb-12 sm:pb-16",children:e}),r.jsx(l,{})]})}}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[9977,2948,1984,4660,1094],()=>s(91656));module.exports=r})();
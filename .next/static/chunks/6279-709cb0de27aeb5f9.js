"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6279],{2660:function(e,r,t){t.d(r,{Z:function(){return a}});let a=(0,t(9205).Z)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},9397:function(e,r,t){t.d(r,{Z:function(){return a}});let a=(0,t(9205).Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},9376:function(e,r,t){var a=t(5475);t.o(a,"notFound")&&t.d(r,{notFound:function(){return a.notFound}}),t.o(a,"useParams")&&t.d(r,{useParams:function(){return a.useParams}}),t.o(a,"usePathname")&&t.d(r,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(r,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(r,{useSearchParams:function(){return a.useSearchParams}})},2913:function(e,r,t){t.d(r,{x:function(){return c}});var a=t(7437),s=t(2265);let l=(0,t(9205).Z)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);var n=t(875),i=t(9397),d=t(2489),o=t(9714);function c(e){let{attributes:r={},onChange:t,categoryId:c,className:u=""}=e,[p,y]=(0,s.useState)([]),[x,m]=(0,s.useState)([]),[g,h]=(0,s.useState)([]),[b,f]=(0,s.useState)([]),[N,v]=(0,s.useState)(!1),[j,k]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let e=p.map(e=>e.key);m(Object.entries(r).filter(r=>{let[t]=r;return!e.includes(t)&&"options"!==t}).map(e=>{let[r,t]=e;return{key:r,value:t,type:S(t)}}))},[r,p]),(0,s.useEffect)(()=>{let e=r.options,t=Array.isArray(e)?e.map(e=>{if(!e||"object"!=typeof e)return null;let r=e.name,t=e.values,a=e.required;return"string"==typeof r&&Array.isArray(t)?{name:r,values:t.filter(e=>"string"==typeof e),required:!0===a}:null}).filter(e=>!!e):[];h(e=>JSON.stringify(e)===JSON.stringify(t)?e:t),f(e=>t.length===e.length?e:t.map((r,t)=>{var a;return null!==(a=e[t])&&void 0!==a?a:""}))},[r]),(0,s.useEffect)(()=>{if(!c){y([]);return}(async()=>{v(!0);try{let e=T(c);y(e)}catch(e){console.error("Failed to fetch attribute templates",e),y([])}finally{v(!1)}})()},[c]);let S=e=>"boolean"==typeof e?"boolean":"number"==typeof e?"number":"string",T=e=>({laptops:[{key:"brand",displayLabel:"Brand",dataType:"STRING",required:!0,displayOrder:1},{key:"ram",displayLabel:"RAM",dataType:"SELECT",options:["4GB","8GB","16GB","32GB","64GB"],required:!0,displayOrder:2},{key:"storage",displayLabel:"Storage",dataType:"SELECT",options:["128GB","256GB","512GB","1TB","2TB"],required:!0,displayOrder:3},{key:"processor",displayLabel:"Processor",dataType:"STRING",required:!1,displayOrder:4},{key:"color",displayLabel:"Color",dataType:"STRING",required:!1,displayOrder:5}],smartphones:[{key:"brand",displayLabel:"Brand",dataType:"STRING",required:!0,displayOrder:1},{key:"storage",displayLabel:"Storage",dataType:"SELECT",options:["64GB","128GB","256GB","512GB","1TB"],required:!0,displayOrder:2},{key:"ram",displayLabel:"RAM",dataType:"SELECT",options:["4GB","6GB","8GB","12GB","16GB"],required:!1,displayOrder:3},{key:"color",displayLabel:"Color",dataType:"STRING",required:!1,displayOrder:4},{key:"screenSize",displayLabel:"Screen Size",dataType:"STRING",required:!1,displayOrder:5}],clothing:[{key:"brand",displayLabel:"Brand",dataType:"STRING",required:!0,displayOrder:1},{key:"material",displayLabel:"Material",dataType:"STRING",required:!1,displayOrder:2},{key:"sizes",displayLabel:"Available Sizes",dataType:"STRING",helpText:"e.g., S, M, L, XL",required:!1,displayOrder:3},{key:"color",displayLabel:"Color",dataType:"STRING",required:!1,displayOrder:4}]})[e]||[],w=(e,a)=>{t({...r,[e]:a})},C=()=>{m([...x,{key:"",value:"",type:"string"}])},O=e=>{let a={...r};e.length>0?a.options=e:delete a.options,t(a)},A=()=>{let e=[...g,{name:"",values:[],required:!1}];h(e),f(e=>[...e,""]),O(e)},L=(e,r,t)=>{let a=[...g],s=a[e];if(s){if("values"===r&&"string"==typeof t){let r=t.split(",").map(e=>e.trim()).filter(e=>e.length>0);a[e]={...s,values:r}}else"required"===r&&"boolean"==typeof t?a[e]={...s,required:t}:"name"===r&&"string"==typeof t&&(a[e]={...s,name:t});h(a),O(a)}},E=e=>{let r=g.filter((r,t)=>t!==e);h(r),f(r=>r.filter((r,t)=>t!==e)),O(r)},G=(e,r)=>{f(t=>{let a=[...t];return a[e]=r,a})},R=e=>{var r;let t=null===(r=b[e])||void 0===r?void 0:r.trim();if(!t)return;let a=[...g],s=a[e];if(!s)return;let l=s.values.includes(t)?s.values:[...s.values,t];a[e]={...s,values:l},h(a),f(r=>{let t=[...r];return t[e]="",t}),O(a)},B=(e,r)=>{let t=[...g],a=t[e];a&&(t[e]={...a,values:a.values.filter(e=>e!==r)},h(t),O(t))},q=(e,a,s)=>{let l=[...x],n=l[e];l[e]={...l[e],[a]:s},m(l);let i=l[e].key,d=l[e].value,o=l[e].type,c={...r};if("key"===a&&n.key&&n.key!==i&&delete c[n.key],i){let e=d;"number"===o?e=""===d?"":Number(d):"boolean"===o&&(e="true"===d||!0===d),c[i]=e}t(c)},I=e=>{let a=x[e].key;if(m(x.filter((r,t)=>t!==e)),a){let e={...r};delete e[a],t(e)}},P=e=>{let t=r[e.key]||"";switch(e.dataType){case"SELECT":var s;return(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:e.displayLabel}),(0,a.jsxs)("select",{value:t,onChange:r=>w(e.key,r.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:border-primary focus:ring-1 focus:ring-primary",children:[(0,a.jsxs)("option",{value:"",children:["Select ",e.displayLabel]}),null===(s=e.options)||void 0===s?void 0:s.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]}),e.helpText&&(0,a.jsx)("p",{className:"text-xs text-gray-500",children:e.helpText})]},e.key);case"NUMBER":return(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:e.displayLabel}),(0,a.jsx)("input",{type:"number",value:t,onChange:r=>w(e.key,Number(r.target.value)),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:border-primary focus:ring-1 focus:ring-primary"}),e.helpText&&(0,a.jsx)("p",{className:"text-xs text-gray-500",children:e.helpText})]},e.key);case"BOOLEAN":return(0,a.jsxs)("div",{className:"flex items-center gap-2 py-2",children:[(0,a.jsx)("input",{type:"checkbox",id:e.key,checked:!0===t,onChange:r=>w(e.key,r.target.checked),className:"h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded"}),(0,a.jsx)("label",{htmlFor:e.key,className:"text-sm font-medium text-gray-700",children:e.displayLabel}),e.helpText&&(0,a.jsxs)("span",{className:"text-xs text-gray-500 ml-2",children:["(",e.helpText,")"]})]},e.key);default:return(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:e.displayLabel}),(0,a.jsx)("input",{type:"text",value:t,onChange:r=>w(e.key,r.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:border-primary focus:ring-1 focus:ring-primary"}),e.helpText&&(0,a.jsx)("p",{className:"text-xs text-gray-500",children:e.helpText})]},e.key)}},M=Object.keys(r).filter(e=>"options"!==e).length,z=M+(g.length>0?1:0),Z=p.length>0||x.length>0||g.length>0||z>0;return(0,a.jsxs)("div",{className:"border border-gray-200 rounded-lg ".concat(u),children:[(0,a.jsxs)("button",{type:"button",onClick:()=>k(!j),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("h3",{className:"text-base font-semibold text-gray-900",children:"Product Specifications"}),(0,a.jsx)("span",{className:"text-xs text-gray-500 font-normal",children:"(Optional)"}),Z&&!j&&(0,a.jsxs)("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded-full",children:[z," added"]})]}),j?(0,a.jsx)(l,{className:"h-5 w-5 text-gray-400"}):(0,a.jsx)(n.Z,{className:"h-5 w-5 text-gray-400"})]}),j&&(0,a.jsxs)("div",{className:"p-4 pt-0 space-y-6 border-t border-gray-100",children:[N&&(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"Loading templates..."}),!c&&!N&&(0,a.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:(0,a.jsxs)("p",{className:"text-xs text-blue-800",children:[(0,a.jsx)("strong",{children:"Tip:"})," Select a category above to see recommended specifications."]})}),p.length>0&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-700",children:"Suggested Specifications"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:p.sort((e,r)=>(e.displayOrder||0)-(r.displayOrder||0)).map(e=>P(e))})]}),(0,a.jsxs)("div",{className:p.length>0?"border-t pt-4 mt-4":"",children:[(0,a.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-700",children:"Product Options"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Add selectable options like size, color, material, or capacity."})]})}),0===g.length?(0,a.jsxs)("div",{className:"text-center py-6 bg-gray-50 rounded-lg border border-dashed border-gray-300",children:[(0,a.jsx)("p",{className:"text-xs text-gray-600 mb-2",children:"No options added"}),(0,a.jsxs)(o.zx,{onClick:A,variant:"outline",size:"sm",children:[(0,a.jsx)(i.Z,{className:"h-4 w-4 mr-1"}),"Add Option Group"]})]}):(0,a.jsxs)("div",{className:"space-y-3",children:[g.map((e,r)=>(0,a.jsxs)("div",{className:"space-y-3 rounded-lg border border-gray-200 p-3 bg-white",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"text",placeholder:"Option name (e.g., Size)",value:e.name,onChange:e=>L(r,"name",e.target.value),className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:border-primary focus:ring-1 focus:ring-primary"}),(0,a.jsxs)("label",{className:"flex items-center gap-2 text-xs text-gray-600",children:[(0,a.jsx)("input",{type:"checkbox",checked:!0===e.required,onChange:e=>L(r,"required",e.target.checked),className:"h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded"}),"Required"]}),(0,a.jsx)("button",{type:"button",onClick:()=>E(r),className:"p-2 text-gray-400 hover:text-error transition-colors",children:(0,a.jsx)(d.Z,{className:"h-4 w-4"})})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"text",placeholder:"Add a value (e.g., Medium)",value:b[r]||"",onChange:e=>G(r,e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),R(r))},className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:border-primary focus:ring-1 focus:ring-primary"}),(0,a.jsx)(o.zx,{type:"button",variant:"outline",size:"sm",onClick:()=>R(r),children:"Add"})]}),e.values.length>0?(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:e.values.map(e=>(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 rounded-full border border-gray-200 bg-gray-50 px-2 py-1 text-xs text-gray-700",children:[e,(0,a.jsx)("button",{type:"button",onClick:()=>B(r,e),className:"text-gray-400 hover:text-error",children:(0,a.jsx)(d.Z,{className:"h-3 w-3"})})]},e))}):(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Add at least one value."})]},r)),(0,a.jsxs)("button",{type:"button",onClick:A,className:"w-full px-3 py-2 text-sm text-gray-600 border border-dashed border-gray-300 rounded-lg hover:border-gray-400 hover:bg-gray-50 transition-colors",children:[(0,a.jsx)(i.Z,{className:"h-4 w-4 inline mr-1"}),"Add Another Option"]})]})]}),(0,a.jsxs)("div",{className:p.length>0||g.length>0?"border-t pt-4 mt-4":"",children:[(0,a.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-700",children:"Additional Specifications"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Add any extra details about your product"})]})}),0===x.length?(0,a.jsxs)("div",{className:"text-center py-6 bg-gray-50 rounded-lg border border-dashed border-gray-300",children:[(0,a.jsx)("p",{className:"text-xs text-gray-600 mb-2",children:"No additional specifications"}),(0,a.jsxs)(o.zx,{onClick:C,variant:"outline",size:"sm",children:[(0,a.jsx)(i.Z,{className:"h-4 w-4 mr-1"}),"Add Specification"]})]}):(0,a.jsxs)("div",{className:"space-y-2",children:[x.map((e,r)=>(0,a.jsxs)("div",{className:"flex gap-2 items-center bg-gray-50 p-2 rounded-lg",children:[(0,a.jsx)("input",{type:"text",placeholder:"Name (e.g., Warranty)",value:e.key,onChange:e=>q(r,"key",e.target.value),className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:border-primary focus:ring-1 focus:ring-primary"}),(0,a.jsx)("input",{type:"number"===e.type?"number":"text",placeholder:"Value (e.g., 2 years)",value:"boolean"==typeof e.value?String(e.value):e.value,onChange:e=>q(r,"value",e.target.value),className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:border-primary focus:ring-1 focus:ring-primary"}),(0,a.jsxs)("select",{value:e.type||"string",onChange:e=>q(r,"type",e.target.value),className:"w-24 px-2 py-2 text-sm border border-gray-300 rounded-lg focus:border-primary focus:ring-1 focus:ring-primary",children:[(0,a.jsx)("option",{value:"string",children:"Text"}),(0,a.jsx)("option",{value:"number",children:"Number"})]}),(0,a.jsx)("button",{type:"button",onClick:()=>I(r),className:"p-2 text-gray-400 hover:text-error transition-colors",children:(0,a.jsx)(d.Z,{className:"h-4 w-4"})})]},r)),(0,a.jsxs)("button",{type:"button",onClick:C,className:"w-full px-3 py-2 text-sm text-gray-600 border border-dashed border-gray-300 rounded-lg hover:border-gray-400 hover:bg-gray-50 transition-colors",children:[(0,a.jsx)(i.Z,{className:"h-4 w-4 inline mr-1"}),"Add Another"]})]}),z>0&&(0,a.jsxs)("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[(0,a.jsxs)("h5",{className:"text-xs font-medium text-blue-900 mb-2",children:[z," specification",1!==z?"s":""," added"]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[Object.entries(r).filter(e=>{let[r]=e;return"options"!==r}).slice(0,5).map(e=>{let[r,t]=e;return(0,a.jsxs)("span",{className:"text-xs bg-white px-2 py-1 rounded border border-blue-200",children:[(0,a.jsxs)("span",{className:"font-medium text-gray-700",children:[r,":"]})," ",(0,a.jsx)("span",{className:"text-gray-600",children:String(t).substring(0,20)})]},r)}),g.length>0&&(0,a.jsxs)("span",{className:"text-xs bg-white px-2 py-1 rounded border border-blue-200",children:[(0,a.jsx)("span",{className:"font-medium text-gray-700",children:"options:"})," ",(0,a.jsxs)("span",{className:"text-gray-600",children:[g.length," group",1!==g.length?"s":""]})]}),M>5&&(0,a.jsxs)("span",{className:"text-xs text-blue-700",children:["+",M-5," more"]})]})]})]})]})]})}},8588:function(e,r,t){t.d(r,{GJ:function(){return c},Zu:function(){return u}});let a="ROLE_ADMIN",s="ROLE_CONTENT_MANAGER",l="ROLE_SUPPORT_AGENT",n="ROLE_WAREHOUSE",i="ROLE_SUPER_ADMIN";function d(e,r){return e.includes(r)}function o(e,r){return r.some(r=>e.includes(r))}function c(e){return o(e,[a,s,l,n,i])}function u(e){return{canViewAdminProducts:o(e,[s,i]),canCreateProducts:o(e,[s,i]),canEditProducts:o(e,[s,i]),canDeleteProducts:o(e,[s,i]),canManageCategories:o(e,[s,i]),canPermanentDeleteCategories:d(e,i),canViewAllOrders:o(e,[n,s,l,i]),canFulfillOrders:o(e,[n,i]),canCancelOrders:o(e,[s,i]),canViewPayments:o(e,[l,s,i]),canProcessRefunds:o(e,[l,s,i]),canViewUsers:o(e,[a,l,i]),canManageRoles:d(e,i),canViewInventory:o(e,[n,s,i]),canAdjustInventory:o(e,[n,s,i]),canViewAnalytics:o(e,[a,i]),canExportData:d(e,i),canManageStorefront:o(e,[a,i]),canViewNotifications:o(e,[s,n,l,i]),canSendAnnouncements:o(e,[a,i]),canViewAuditLogs:d(e,i),isSuperAdmin:d(e,i)}}},5162:function(e,r,t){t.d(r,{t:function(){return a.t},x:function(){return n}});var a=t(8488),s=t(3011),l=t(6305);let n=(0,s.U)((e,r)=>({cart:null,isLoading:!1,error:null,fetchCart:async()=>{e({isLoading:!0,error:null});try{let r=await l.x.get("/store/cart");e({cart:r.data.data})}catch(r){e({error:"Failed to load cart"})}finally{e({isLoading:!1})}},addItem:async(r,t,a)=>{e({isLoading:!0,error:null});try{let s=await l.x.post("/store/cart/items",{productId:r,quantity:t,selectedOptions:a});e({cart:s.data.data})}catch(r){var s,n,i;throw"INSUFFICIENT_STOCK"===(null===(i=r.response)||void 0===i?void 0:null===(n=i.data)||void 0===n?void 0:null===(s=n.data)||void 0===s?void 0:s.errorCode)?e({error:"Not enough stock available"}):e({error:"Failed to add item"}),r}finally{e({isLoading:!1})}},updateQuantity:async(t,a,s,n)=>{let i=r().cart,d=e=>s?e.itemKey===s:e.productId===t;i&&e({cart:{...i,items:i.items.map(e=>d(e)?{...e,quantity:a,subtotal:e.priceAtAdd*a}:e),totalAmount:i.items.reduce((e,r)=>d(r)?e+r.priceAtAdd*a:e+r.subtotal,0)}});try{let r=await l.x.put("/store/cart/items/".concat(t),{quantity:a,itemKey:s,selectedOptions:n});e({cart:r.data.data})}catch(r){throw e({cart:i,error:"Failed to update quantity"}),r}},removeItem:async(t,a)=>{let s=r().cart,n=e=>a?e.itemKey===a:e.productId===t;if(s){let r=s.items.filter(e=>!n(e));e({cart:{...s,items:r,itemCount:r.length,totalAmount:r.reduce((e,r)=>e+r.subtotal,0)}})}try{let r=a?"?itemKey=".concat(encodeURIComponent(a)):"",s=await l.x.delete("/store/cart/items/".concat(t).concat(r));e({cart:s.data.data})}catch(r){throw e({cart:s,error:"Failed to remove item"}),r}},clearCart:async()=>{try{await l.x.post("/store/cart/clear"),e({cart:null})}catch(r){throw e({error:"Failed to clear cart"}),r}},clearError:()=>e({error:null})}))}}]);
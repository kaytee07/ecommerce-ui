(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4665],{4764:function(e,t,a){Promise.resolve().then(a.bind(a,4995))},7769:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(9205).Z)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},2208:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(9205).Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},9376:function(e,t,a){"use strict";var r=a(5475);a.o(r,"notFound")&&a.d(t,{notFound:function(){return r.notFound}}),a.o(r,"useParams")&&a.d(t,{useParams:function(){return r.useParams}}),a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(t,{useSearchParams:function(){return r.useSearchParams}})},4995:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return f}});var r=a(7437),s=a(2265),n=a(9376),o=a(7648),i=a(9501),l=a(5701),c=a(5162),u=a(6548),d=a(9714),m=a(5062),p=a(7769),h=a(2208);function x(){var e,t;let a=(0,n.useRouter)(),x=(0,n.useSearchParams)().get("redirect")||"/",[f,y]=(0,s.useState)(!1),[g,w]=(0,s.useState)(null),{login:v}=(0,c.t)(),{register:b,handleSubmit:_,formState:{errors:Z,isSubmitting:j}}=(0,i.cI)({resolver:(0,l.F)(u.dm)}),P=async e=>{w(null);try{await v(e),a.push(x)}catch(e){if("ERR_NETWORK"===e.code)w("Unable to connect to server. Please ensure the backend is running on localhost:8080");else{var t,r;w((null===(r=e.response)||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:t.message)||"Invalid email or password")}}};return(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-center text-gray-900 mb-2",children:"Sign in to your account"}),(0,r.jsxs)("p",{className:"text-center text-gray-600 mb-8",children:["Don't have an account?"," ",(0,r.jsx)(o.default,{href:"/register",className:"text-primary font-medium hover:underline",children:"Create one"})]}),g&&(0,r.jsx)("div",{className:"mb-4 p-4 bg-error-bg text-error rounded-lg text-sm",children:g}),(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsx)(m.$,{})}),(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,r.jsx)("div",{className:"h-px flex-1 bg-gray-200"}),(0,r.jsx)("span",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Or"}),(0,r.jsx)("div",{className:"h-px flex-1 bg-gray-200"})]}),(0,r.jsxs)("form",{onSubmit:_(P),className:"space-y-4",children:[(0,r.jsx)(d.II,{label:"Email",type:"email",placeholder:"you@example.com",error:null===(e=Z.usernameOrEmail)||void 0===e?void 0:e.message,...b("usernameOrEmail")}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(d.II,{label:"Password",type:f?"text":"password",placeholder:"Enter your password",error:null===(t=Z.password)||void 0===t?void 0:t.message,...b("password")}),(0,r.jsx)("button",{type:"button",onClick:()=>y(!f),className:"absolute right-3 top-9 text-gray-400 hover:text-gray-600",children:f?(0,r.jsx)(p.Z,{className:"h-5 w-5"}):(0,r.jsx)(h.Z,{className:"h-5 w-5"})})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("label",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",className:"h-4 w-4 text-primary border-gray-300 rounded focus:ring-primary"}),(0,r.jsx)("span",{className:"ml-2 text-sm text-gray-600",children:"Remember me"})]}),(0,r.jsx)(o.default,{href:"/forgot-password",className:"text-sm text-primary hover:underline",children:"Forgot password?"})]}),(0,r.jsx)(d.zx,{type:"submit",className:"w-full",size:"lg",isLoading:j,children:"Sign in"})]})]})}function f(){return(0,r.jsx)(s.Suspense,{fallback:(0,r.jsx)("div",{className:"flex justify-center py-8",children:(0,r.jsx)(d.$j,{})}),children:(0,r.jsx)(x,{})})}},5062:function(e,t,a){"use strict";a.d(t,{$:function(){return i}});var r=a(7437),s=a(9714);let n="http://localhost:8080/api/v1".replace(/\/api\/v1\/?$/,""),o="".concat(n,"/oauth2/authorization/google?prompt=select_account");function i(){return(0,r.jsx)("div",{className:"space-y-3",children:(0,r.jsxs)(s.zx,{type:"button",variant:"outline",className:"w-full gap-2 border-gray-200 bg-white text-gray-900 hover:bg-gray-50",onClick:()=>{window.location.href=o},children:[(0,r.jsx)(l,{}),"Continue with Google"]})})}function l(){return(0,r.jsxs)("svg",{viewBox:"0 0 48 48","aria-hidden":"true",focusable:"false",className:"h-5 w-5",children:[(0,r.jsx)("path",{fill:"#EA4335",d:"M24 9.5c3.54 0 6.7 1.23 9.2 3.64l6.9-6.9C35.9 2.4 30.3 0 24 0 14.6 0 6.4 5.4 2.5 13.3l8 6.2C12.5 13.2 17.8 9.5 24 9.5z"}),(0,r.jsx)("path",{fill:"#4285F4",d:"M46.1 24.5c0-1.6-.14-2.8-.45-4.1H24v7.8h12.6c-.25 2-1.6 5-4.6 7.1l7.1 5.5c4.1-3.8 6.4-9.4 6.4-16.3z"}),(0,r.jsx)("path",{fill:"#FBBC05",d:"M10.5 28.1c-.5-1.6-.8-3.3-.8-5.1s.3-3.5.8-5.1l-8-6.2C.9 14.7 0 19.2 0 24s.9 9.3 2.5 12.3l8-6.2z"}),(0,r.jsx)("path",{fill:"#34A853",d:"M24 48c6.3 0 11.6-2.1 15.5-5.7l-7.1-5.5c-1.9 1.3-4.5 2.2-8.4 2.2-6.2 0-11.5-3.7-13.5-9.4l-8 6.2C6.4 42.6 14.6 48 24 48z"})]})}},5162:function(e,t,a){"use strict";a.d(t,{t:function(){return r.t},x:function(){return o}});var r=a(8488),s=a(3011),n=a(6305);let o=(0,s.U)((e,t)=>({cart:null,isLoading:!1,error:null,fetchCart:async()=>{e({isLoading:!0,error:null});try{let t=await n.x.get("/store/cart");e({cart:t.data.data})}catch(t){e({error:"Failed to load cart"})}finally{e({isLoading:!1})}},addItem:async(t,a,r)=>{e({isLoading:!0,error:null});try{let s=await n.x.post("/store/cart/items",{productId:t,quantity:a,selectedOptions:r});e({cart:s.data.data})}catch(t){var s,o,i;throw"INSUFFICIENT_STOCK"===(null===(i=t.response)||void 0===i?void 0:null===(o=i.data)||void 0===o?void 0:null===(s=o.data)||void 0===s?void 0:s.errorCode)?e({error:"Not enough stock available"}):e({error:"Failed to add item"}),t}finally{e({isLoading:!1})}},updateQuantity:async(a,r,s,o)=>{let i=t().cart,l=e=>s?e.itemKey===s:e.productId===a;i&&e({cart:{...i,items:i.items.map(e=>l(e)?{...e,quantity:r,subtotal:e.priceAtAdd*r}:e),totalAmount:i.items.reduce((e,t)=>l(t)?e+t.priceAtAdd*r:e+t.subtotal,0)}});try{let t=await n.x.put("/store/cart/items/".concat(a),{quantity:r,itemKey:s,selectedOptions:o});e({cart:t.data.data})}catch(t){throw e({cart:i,error:"Failed to update quantity"}),t}},removeItem:async(a,r)=>{let s=t().cart,o=e=>r?e.itemKey===r:e.productId===a;if(s){let t=s.items.filter(e=>!o(e));e({cart:{...s,items:t,itemCount:t.length,totalAmount:t.reduce((e,t)=>e+t.subtotal,0)}})}try{let t=r?"?itemKey=".concat(encodeURIComponent(r)):"",s=await n.x.delete("/store/cart/items/".concat(a).concat(t));e({cart:s.data.data})}catch(t){throw e({cart:s,error:"Failed to remove item"}),t}},clearCart:async()=>{try{await n.x.post("/store/cart/clear"),e({cart:null})}catch(t){throw e({error:"Failed to clear cart"}),t}},clearError:()=>e({error:null})}))},6548:function(e,t,a){"use strict";a.d(t,{$h:function(){return u},ek:function(){return i},dm:function(){return n},gY:function(){return o},S4:function(){return l}});var r=a(7119);let s=/^[a-zA-Z0-9_]{3,30}$/,n=r.Ry({usernameOrEmail:r.Z_().min(1,"Username or email is required").refine(e=>r.Z_().email().safeParse(e).success||s.test(e),{message:"Must be a valid email or username"}),password:r.Z_().min(1,"Password is required")}),o=r.Ry({fullName:r.Z_().min(2,"Name must be at least 2 characters"),username:r.Z_().min(3,"Username must be at least 3 characters"),email:r.Z_().email("Invalid email address"),password:r.Z_().min(8,"Password must be at least 8 characters").regex(/[A-Z]/,"Password must contain at least one uppercase letter").regex(/[0-9]/,"Password must contain at least one number"),confirmPassword:r.Z_(),acceptTerms:r.O7().refine(e=>!0===e,{message:"You must accept the terms and conditions"})}).refine(e=>e.password===e.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]}),i=r.Ry({email:r.Z_().email("Invalid email address")}),l=r.Ry({password:r.Z_().min(8,"Password must be at least 8 characters").regex(/[A-Z]/,"Password must contain at least one uppercase letter").regex(/[0-9]/,"Password must contain at least one number"),confirmPassword:r.Z_()}).refine(e=>e.password===e.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]});r.Ry({name:r.Z_().min(1,"Product name is required").max(255,"Name is too long"),description:r.Z_().optional(),price:r.Rx().positive("Price must be greater than 0"),compareAtPrice:r.Rx().positive("Compare price must be greater than 0").optional(),sku:r.Z_().min(1,"SKU is required").max(100,"SKU is too long"),categoryId:r.Z_().uuid("Please select a category"),active:r.O7().default(!0),featured:r.O7().default(!1),attributes:r.IM(r._4()).optional()}),r.Ry({discountPercentage:r.Rx().min(1,"Minimum 1%").max(99,"Maximum 99%"),startDate:r.Z_().optional(),endDate:r.Z_().optional()}),r.Ry({categoryId:r.Z_().uuid().optional(),applyToAll:r.O7().optional(),discountPercentage:r.Rx().min(1,"Minimum 1%").max(99,"Maximum 99%"),startDate:r.Z_().optional(),endDate:r.Z_().optional()}),r.Ry({name:r.Z_().min(1,"Category name is required").max(100,"Name is too long"),slug:r.Z_().regex(/^[a-z0-9-]*$/,"Slug must contain only lowercase letters, numbers, and hyphens").optional().or(r.i0("")),description:r.Z_().max(500,"Description is too long").optional(),parentId:r.Z_().uuid().nullable().optional(),displayOrder:r.Rx().int().min(0).default(0)});let c=r.Ry({street:r.Z_().min(1,"Street address is required"),city:r.Z_().min(1,"City is required"),region:r.Z_().min(1,"Region/State is required"),country:r.Z_().min(1,"Country is required"),postalCode:r.Z_().optional(),phone:r.Z_().min(1,"Phone number is required"),gps:r.Z_().optional()}),u=r.Ry({shippingAddress:c,guestEmail:r.Z_().email("Valid email is required").optional(),guestName:r.Z_().min(1,"Full name is required").optional(),createAccount:r.O7().optional().default(!1),password:r.Z_().min(8,"Password must be at least 8 characters").optional(),notes:r.Z_().max(500,"Notes too long").optional()}).refine(e=>!e.createAccount||!!e.password,{message:"Password is required to create an account",path:["password"]})}},function(e){e.O(0,[2972,6853,5878,2428,6572,9714,2971,2117,1744],function(){return e(e.s=4764)}),_N_E=e.O()}]);
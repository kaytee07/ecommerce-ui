(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4444],{1049:function(e,t,a){Promise.resolve().then(a.bind(a,3962))},875:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9205).Z)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},9322:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9205).Z)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},1671:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9205).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},8736:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9205).Z)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},3245:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9205).Z)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},1817:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9205).Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},4794:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9205).Z)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]])},3247:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9205).Z)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},6275:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9205).Z)("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},6865:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9205).Z)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},7689:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9205).Z)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]])},2489:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9205).Z)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},3145:function(e,t,a){"use strict";a.d(t,{default:function(){return r.a}});var s=a(8461),r=a.n(s)},7648:function(e,t,a){"use strict";a.d(t,{default:function(){return r.a}});var s=a(2972),r=a.n(s)},9376:function(e,t,a){"use strict";var s=a(5475);a.o(s,"notFound")&&a.d(t,{notFound:function(){return s.notFound}}),a.o(s,"useParams")&&a.d(t,{useParams:function(){return s.useParams}}),a.o(s,"usePathname")&&a.d(t,{usePathname:function(){return s.usePathname}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(t,{useSearchParams:function(){return s.useSearchParams}})},8461:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var a in t)Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}(t,{default:function(){return i},getImageProps:function(){return l}});let s=a(7043),r=a(5346),n=a(5878),c=s._(a(5084));function l(e){let{props:t}=(0,r.getImgProps)(e,{defaultLoader:c.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,a]of Object.entries(t))void 0===a&&delete t[e];return{props:t}}let i=n.Image},3962:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return p}});var s=a(7437),r=a(2265),n=a(9376),c=a(7648),l=a(9714),i=a(6305),o=a(7279);let d=(0,a(9205).Z)("sliders-horizontal",[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]]);var u=a(875),h=a(2489);function m(){let e=(0,n.useSearchParams)(),t=(0,n.useRouter)(),[a,m]=(0,r.useState)([]),[p,x]=(0,r.useState)([]),[g,f]=(0,r.useState)(new Map),[y,v]=(0,r.useState)(0),[b,j]=(0,r.useState)(!0),[k,N]=(0,r.useState)(!1),w=e.get("categoryId")||"",M=e.get("minPrice")||"",P=e.get("maxPrice")||"",Z=e.get("sortBy")||"createdAt",S=e.get("sortDirection")||"desc";(0,r.useEffect)(()=>{z(),C()},[e]);let z=async()=>{j(!0);try{let e=new URLSearchParams;w&&e.set("categoryId",w),M&&e.set("minPrice",M),P&&e.set("maxPrice",P),e.set("sortBy",Z),e.set("sortDirection",S),e.set("size","20");let t=(await i.x.get("/store/products/search?".concat(e.toString()))).data.data||[];if(m(t),v(t.length),t.length>0){let e=t.map(e=>e.id),a=await (0,o.dS)(e);f(a)}else f(new Map)}catch(e){console.error("Failed to fetch products",e),m([]),v(0),f(new Map)}finally{j(!1)}},C=async()=>{try{let e=await i.x.get("/store/categories");x(e.data.data||[])}catch(e){console.error("Failed to fetch categories",e),x([])}},A=(a,s)=>{let r=new URLSearchParams(e.toString());s?r.set(a,s):r.delete(a),t.push("/products?".concat(r.toString()))},O=()=>{t.push("/products")},H=w||M||P;return(0,s.jsxs)("div",{className:"min-h-screen bg-cream",children:[(0,s.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,s.jsxs)("div",{className:"container-full py-12",children:[(0,s.jsx)("h1",{className:"font-heading text-4xl md:text-5xl font-medium tracking-tight text-center",children:"All Products"}),(0,s.jsxs)("p",{className:"text-center text-gray-500 mt-2",children:[y," pieces"]})]})}),(0,s.jsx)("div",{className:"bg-white border-b border-gray-200 sticky top-[88px] z-30",children:(0,s.jsx)("div",{className:"container-full py-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("button",{onClick:()=>N(!k),className:"flex items-center gap-2 text-sm tracking-wider uppercase hover:opacity-70",children:[(0,s.jsx)(d,{className:"h-4 w-4"}),"Filter",H&&(0,s.jsx)("span",{className:"h-2 w-2 bg-primary rounded-full"})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("select",{value:"".concat(Z,":").concat(S),onChange:a=>{let[s,r]=a.target.value.split(":"),n=new URLSearchParams(e.toString());n.set("sortBy",s),n.set("sortDirection",r),t.push("/products?".concat(n.toString()))},className:"appearance-none bg-transparent text-sm tracking-wider uppercase pr-6 cursor-pointer focus:outline-none",children:[{value:"createdAt:desc",label:"Newest"},{value:"price:asc",label:"Price: Low to High"},{value:"price:desc",label:"Price: High to Low"},{value:"name:asc",label:"Name: A-Z"}].map(e=>(0,s.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,s.jsx)(u.Z,{className:"absolute right-0 top-1/2 -translate-y-1/2 h-4 w-4 pointer-events-none"})]})]})})}),(0,s.jsx)("div",{className:"container-full py-8",children:(0,s.jsxs)("div",{className:"flex gap-12",children:[(0,s.jsxs)("aside",{className:(0,o.cn)("w-full lg:w-64 flex-shrink-0","lg:block",k?"fixed inset-0 z-50 bg-cream p-6 overflow-y-auto lg:relative lg:p-0":"hidden"),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-8 lg:hidden",children:[(0,s.jsx)("h2",{className:"font-heading text-2xl",children:"Filters"}),(0,s.jsx)("button",{onClick:()=>N(!1),children:(0,s.jsx)(h.Z,{className:"h-6 w-6"})})]}),(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h3",{className:"text-xs tracking-[0.2em] uppercase text-gray-500 mb-4",children:"Category"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("button",{onClick:()=>A("categoryId",""),className:(0,o.cn)("block text-sm transition-opacity",w?"text-gray-600 hover:text-primary":"font-medium"),children:"All Categories"}),p.map(e=>(0,s.jsx)("button",{onClick:()=>A("categoryId",e.id),className:(0,o.cn)("block text-sm transition-opacity",w===e.id?"font-medium":"text-gray-600 hover:text-primary"),children:e.name},e.id))]})]}),(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h3",{className:"text-xs tracking-[0.2em] uppercase text-gray-500 mb-4",children:"Price Range"}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)("input",{type:"number",placeholder:"Min",value:M,onChange:e=>A("minPrice",e.target.value),className:"w-full px-3 py-2 bg-white border border-gray-300 text-sm focus:outline-none focus:border-primary"}),(0,s.jsx)("input",{type:"number",placeholder:"Max",value:P,onChange:e=>A("maxPrice",e.target.value),className:"w-full px-3 py-2 bg-white border border-gray-300 text-sm focus:outline-none focus:border-primary"})]})]}),H&&(0,s.jsx)("button",{onClick:O,className:"text-sm text-gray-500 hover:text-primary underline",children:"Clear all filters"}),(0,s.jsx)("div",{className:"lg:hidden mt-8 pt-8 border-t border-gray-200",children:(0,s.jsxs)("button",{onClick:()=>N(!1),className:"w-full bg-primary text-white py-4 text-sm tracking-wider uppercase",children:["View Results (",y,")"]})})]}),(0,s.jsx)("main",{className:"flex-1",children:b?(0,s.jsx)("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-4 lg:gap-6",children:Array.from({length:9}).map((e,t)=>(0,s.jsxs)("div",{children:[(0,s.jsx)(l.Od,{className:"aspect-[3/4] w-full mb-4"}),(0,s.jsx)(l.Od,{className:"h-4 w-20 mb-2"}),(0,s.jsx)(l.Od,{className:"h-5 w-full mb-2"}),(0,s.jsx)(l.Od,{className:"h-4 w-16"})]},t))}):a&&0!==a.length?(0,s.jsx)("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-4 lg:gap-6",children:a.map(e=>{var t,a,r;let n=null===(t=e.tags)||void 0===t?void 0:t.includes("new"),i=!!e.compareAtPrice,d=g.get(e.id),u=null!==(r=null==d?void 0:d.availableQuantity)&&void 0!==r?r:null,h=null!==u&&u<=0;return(0,s.jsxs)(c.default,{href:"/products/".concat(e.slug),className:"group",children:[(0,s.jsxs)("div",{className:"relative aspect-[3/4] overflow-hidden img-zoom mb-4",children:[(0,s.jsx)(l.TK,{src:(0,o.b6)(e)||"/placeholder.svg",alt:e.name,fill:!0,className:"object-cover",fallbackSrc:"/placeholder.svg"}),n&&!h&&(0,s.jsx)("span",{className:"absolute top-4 left-4 bg-primary text-white text-xs px-3 py-1 tracking-wider uppercase",children:"New"}),i&&!h&&(0,s.jsx)("span",{className:"absolute top-4 ".concat(n?"right-4":"left-4"," bg-primary text-white text-xs px-3 py-1 tracking-wider uppercase"),children:"Sale"}),h&&(0,s.jsx)("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:(0,s.jsx)("span",{className:"px-4 py-2 bg-white text-gray-900 font-medium rounded text-sm",children:"Out of Stock"})})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 tracking-wider uppercase",children:(null===(a=e.category)||void 0===a?void 0:a.name)||e.categoryName}),(0,s.jsx)("h3",{className:"font-heading text-lg group-hover:opacity-70 transition-opacity",children:e.name}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"font-medium",children:(0,o.xG)(e.price)}),e.compareAtPrice&&(0,s.jsx)("span",{className:"text-gray-400 line-through text-sm",children:(0,o.xG)(e.compareAtPrice)})]}),null!==u&&u>0&&u<=5&&!h&&(0,s.jsxs)("p",{className:"text-xs text-orange-600 font-medium",children:["Only ",u," left"]})]})]},e.id)})}):(0,s.jsxs)("div",{className:"text-center py-16",children:[(0,s.jsx)("p",{className:"text-gray-500 mb-4",children:"No products found"}),(0,s.jsx)("button",{onClick:O,className:"text-sm text-primary underline",children:"Clear filters"})]})})]})})]})}function p(){return(0,s.jsx)(r.Suspense,{fallback:(0,s.jsx)("div",{className:"min-h-screen bg-cream",children:(0,s.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,s.jsx)("div",{className:"container-full py-12",children:(0,s.jsx)(l.Od,{className:"h-12 w-64 mx-auto"})})})}),children:(0,s.jsx)(m,{})})}}},function(e){e.O(0,[2972,6853,5878,9714,2971,2117,1744],function(){return e(e.s=1049)}),_N_E=e.O()}]);
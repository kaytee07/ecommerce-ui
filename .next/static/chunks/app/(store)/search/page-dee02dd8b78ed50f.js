(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9819],{4396:function(e,t,a){Promise.resolve().then(a.bind(a,640))},875:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(9205).Z)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},9322:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(9205).Z)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},1671:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(9205).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},8736:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(9205).Z)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},3245:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(9205).Z)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},1817:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(9205).Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},4794:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(9205).Z)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]])},3247:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(9205).Z)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},6275:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(9205).Z)("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},6865:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(9205).Z)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},7689:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(9205).Z)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]])},2489:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(9205).Z)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},3145:function(e,t,a){"use strict";a.d(t,{default:function(){return n.a}});var r=a(8461),n=a.n(r)},7648:function(e,t,a){"use strict";a.d(t,{default:function(){return n.a}});var r=a(2972),n=a.n(r)},9376:function(e,t,a){"use strict";var r=a(5475);a.o(r,"notFound")&&a.d(t,{notFound:function(){return r.notFound}}),a.o(r,"useParams")&&a.d(t,{useParams:function(){return r.useParams}}),a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(t,{useSearchParams:function(){return r.useSearchParams}})},8461:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var a in t)Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}(t,{default:function(){return o},getImageProps:function(){return i}});let r=a(7043),n=a(5346),s=a(5878),c=r._(a(5084));function i(e){let{props:t}=(0,n.getImgProps)(e,{defaultLoader:c.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,a]of Object.entries(t))void 0===a&&delete t[e];return{props:t}}let o=s.Image},640:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return f}});var r=a(7437),n=a(2265),s=a(9376),c=a(9714),i=a(7648),o=a(7279),l=a(6275),d=a(5162);function u(e){var t,a,s;let{product:u,showQuickAdd:h=!0,inventory:p}=e,[m,f]=(0,n.useState)(!1),[y,x]=(0,n.useState)(null),{addItem:g}=(0,d.x)(),v=Array.isArray(null===(t=u.attributes)||void 0===t?void 0:t.options)&&u.attributes.options.length>0,b=async e=>{e.preventDefault(),e.stopPropagation(),f(!0),x(null);try{await g(u.id,1)}catch(e){x("Failed to add"),setTimeout(()=>x(null),2e3)}finally{f(!1)}},j=null!==(a=u.currentDiscountPercentage)&&void 0!==a?a:u.discountPercentage,k="number"==typeof j&&j>0,w=k&&u.effectivePrice?u.effectivePrice:u.price,N=null!==(s=null==p?void 0:p.availableQuantity)&&void 0!==s?s:"number"==typeof u.stockQuantity?u.stockQuantity:null,Z=null!==N&&N<=0;return(0,r.jsx)(i.default,{href:"/products/".concat(u.slug),className:"group block",children:(0,r.jsxs)("div",{className:"bg-white rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-all duration-200",children:[(0,r.jsxs)("div",{className:"relative aspect-product bg-gray-100 overflow-hidden",children:[(0,r.jsx)(c.TK,{src:(0,o.b6)(u)||"/placeholder.svg",alt:u.name,fill:!0,sizes:"(max-width: 640px) 50vw, (max-width: 1024px) 33vw, 25vw",className:"object-cover group-hover:scale-105 transition-transform duration-300",fallbackSrc:"/placeholder.svg"}),(0,r.jsxs)("div",{className:"absolute top-2 left-2 flex flex-col gap-1",children:[k&&(0,r.jsxs)("span",{className:"px-2 py-1 bg-error text-white text-xs font-bold rounded",children:["-",j,"%"]}),u.featured&&(0,r.jsx)("span",{className:"px-2 py-1 bg-secondary text-primary text-xs font-bold rounded",children:"Featured"})]}),h&&!Z&&!v&&(0,r.jsx)("button",{onClick:b,disabled:m,className:"absolute bottom-2 right-2 p-2 bg-primary text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200 hover:bg-primary-hover disabled:opacity-50","aria-label":"Add to cart",children:(0,r.jsx)(l.Z,{className:"h-4 w-4"})}),Z&&(0,r.jsx)("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:(0,r.jsx)("span",{className:"px-4 py-2 bg-white text-gray-900 font-medium rounded",children:"Out of Stock"})}),y&&(0,r.jsx)("div",{className:"absolute bottom-2 left-2 right-2 bg-error text-white text-xs py-1 px-2 rounded text-center",children:y})]}),(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsx)("p",{className:"text-xs text-gray-500 uppercase tracking-wide mb-1",children:u.categoryName}),(0,r.jsx)("h3",{className:"font-semibold text-gray-900 line-clamp-2 group-hover:text-primary transition-colors",children:u.name}),(0,r.jsxs)("div",{className:"mt-2 flex items-center gap-2",children:[(0,r.jsx)("span",{className:"text-lg font-bold text-primary",children:(0,o.xG)(w)}),k&&(0,r.jsx)("span",{className:"text-sm text-gray-400 line-through",children:(0,o.xG)(u.price)})]}),null!==N&&N>0&&N<=5&&!Z&&(0,r.jsxs)("p",{className:"mt-1 text-xs text-warning font-medium",children:["Only ",N," left"]})]})]})})}var h=a(6305),p=a(3247);function m(){let e=(0,s.useSearchParams)().get("q")||"",[t,a]=(0,n.useState)([]),[i,l]=(0,n.useState)(new Map),[d,m]=(0,n.useState)(0),[f,y]=(0,n.useState)(!0);(0,n.useEffect)(()=>{e?x():(a([]),l(new Map),y(!1))},[e]);let x=async()=>{y(!0);try{let t=(await h.x.get("/store/products/search?q=".concat(encodeURIComponent(e),"&size=24"))).data.data||[];if(a(t),m(t.length),t.length>0){let e=t.map(e=>e.id),a=await (0,o.dS)(e);l(a)}else l(new Map)}catch(e){console.error("Failed to search products",e)}finally{y(!1)}};return(0,r.jsxs)("div",{className:"container-wide py-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("form",{action:"/search",className:"max-w-xl mb-6",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:"search",name:"q",defaultValue:e,placeholder:"Search products...",className:"w-full pl-12 pr-4 py-4 text-lg border border-gray-300 rounded-full focus:border-primary focus:ring-1 focus:ring-primary outline-none"}),(0,r.jsx)(p.Z,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-6 w-6 text-gray-400"})]})}),e&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("h1",{className:"text-3xl font-bold text-gray-900",children:["Results for “",e,"”"]}),(0,r.jsxs)("p",{className:"text-gray-500 mt-1",children:[d," products found"]})]})]}),f?(0,r.jsx)(c.L4,{count:8}):e?t&&0!==t.length?(0,r.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:t.map(e=>(0,r.jsx)(u,{product:e,inventory:i.get(e.id)},e.id))}):(0,r.jsx)(c.P0,{query:e}):(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)(p.Z,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Search for products"}),(0,r.jsx)("p",{className:"text-gray-500",children:"Enter a keyword to find what you're looking for"})]})]})}function f(){return(0,r.jsx)(n.Suspense,{fallback:(0,r.jsx)("div",{className:"container-wide py-8",children:(0,r.jsx)(c.L4,{count:8})}),children:(0,r.jsx)(m,{})})}},5162:function(e,t,a){"use strict";a.d(t,{t:function(){return r.t},x:function(){return c}});var r=a(8488),n=a(3011),s=a(6305);let c=(0,n.U)((e,t)=>({cart:null,isLoading:!1,error:null,fetchCart:async()=>{e({isLoading:!0,error:null});try{let t=await s.x.get("/store/cart");e({cart:t.data.data})}catch(t){e({error:"Failed to load cart"})}finally{e({isLoading:!1})}},addItem:async(t,a,r)=>{e({isLoading:!0,error:null});try{let n=await s.x.post("/store/cart/items",{productId:t,quantity:a,selectedOptions:r});e({cart:n.data.data})}catch(t){var n,c,i;throw"INSUFFICIENT_STOCK"===(null===(i=t.response)||void 0===i?void 0:null===(c=i.data)||void 0===c?void 0:null===(n=c.data)||void 0===n?void 0:n.errorCode)?e({error:"Not enough stock available"}):e({error:"Failed to add item"}),t}finally{e({isLoading:!1})}},updateQuantity:async(a,r,n,c)=>{let i=t().cart,o=e=>n?e.itemKey===n:e.productId===a;i&&e({cart:{...i,items:i.items.map(e=>o(e)?{...e,quantity:r,subtotal:e.priceAtAdd*r}:e),totalAmount:i.items.reduce((e,t)=>o(t)?e+t.priceAtAdd*r:e+t.subtotal,0)}});try{let t=await s.x.put("/store/cart/items/".concat(a),{quantity:r,itemKey:n,selectedOptions:c});e({cart:t.data.data})}catch(t){throw e({cart:i,error:"Failed to update quantity"}),t}},removeItem:async(a,r)=>{let n=t().cart,c=e=>r?e.itemKey===r:e.productId===a;if(n){let t=n.items.filter(e=>!c(e));e({cart:{...n,items:t,itemCount:t.length,totalAmount:t.reduce((e,t)=>e+t.subtotal,0)}})}try{let t=r?"?itemKey=".concat(encodeURIComponent(r)):"",n=await s.x.delete("/store/cart/items/".concat(a).concat(t));e({cart:n.data.data})}catch(t){throw e({cart:n,error:"Failed to remove item"}),t}},clearCart:async()=>{try{await s.x.post("/store/cart/clear"),e({cart:null})}catch(t){throw e({error:"Failed to clear cart"}),t}},clearError:()=>e({error:null})}))}},function(e){e.O(0,[2972,6853,5878,9714,2971,2117,1744],function(){return e(e.s=4396)}),_N_E=e.O()}]);
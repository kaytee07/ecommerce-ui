(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5465],{7523:function(e,t,r){Promise.resolve().then(r.bind(r,8851))},875:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},407:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},9322:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},1671:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},8736:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},3245:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},1817:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},4794:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]])},3247:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},6275:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},6865:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},7689:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]])},2489:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},3145:function(e,t,r){"use strict";r.d(t,{default:function(){return n.a}});var a=r(8461),n=r.n(a)},7648:function(e,t,r){"use strict";r.d(t,{default:function(){return n.a}});var a=r(2972),n=r.n(a)},8461:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return i},getImageProps:function(){return c}});let a=r(7043),n=r(5346),l=r(5878),s=a._(r(5084));function c(e){let{props:t}=(0,n.getImgProps)(e,{defaultLoader:s.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let i=l.Image},8851:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return f}});var a=r(7437),n=r(2265),l=r(7648),s=r(6305),c=r(3145),i=r(9714),u=r(7279),d=r(407);let o=[{value:"",label:"All Orders"},{value:"PENDING",label:"Pending"},{value:"CONFIRMED",label:"Confirmed"},{value:"PROCESSING",label:"Processing"},{value:"SHIPPED",label:"Shipped"},{value:"DELIVERED",label:"Delivered"},{value:"CANCELLED",label:"Cancelled"}];function f(){let[e,t]=(0,n.useState)([]),[r,f]=(0,n.useState)([]),[h,p]=(0,n.useState)(""),[m,y]=(0,n.useState)(!0),[x,v]=(0,n.useState)({});(0,n.useEffect)(()=>{g()},[]),(0,n.useEffect)(()=>{h?f(e.filter(e=>e.status===h)):f(e)},[e,h]),(0,n.useEffect)(()=>{if(!e||0===e.length)return;let t=e.map(e=>e.previewProductId).filter(e=>!!e&&!x[e]);if(0===t.length)return;let r=!1;return(async()=>{try{let e=await Promise.all(t.map(async e=>{try{let t=await s.x.get("/store/products/".concat(e));return{id:e,product:t.data.data}}catch(e){return null}}));if(r)return;v(t=>{let r={...t};return e.forEach(e=>{if(null==e?void 0:e.product){let t=(0,u.b6)(e.product);t&&(r[e.id]=t)}}),r})}catch(e){}})(),()=>{r=!0}},[e,x]);let g=async()=>{try{let e=await s.x.get("/store/orders/my");t(e.data.data||[])}catch(e){console.error("Failed to fetch orders",e)}finally{y(!1)}};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Order History"}),(0,a.jsx)(i.Ph,{options:o,value:h,onChange:e=>p(e.target.value),className:"w-full sm:w-48"})]}),(0,a.jsx)("div",{className:"bg-white rounded-lg border border-gray-200",children:m?(0,a.jsx)("div",{className:"p-6 space-y-4",children:[1,2,3,4,5].map(e=>(0,a.jsx)(i.Od,{className:"h-20 w-full"},e))}):r&&0!==r.length?(0,a.jsx)("div",{className:"divide-y divide-gray-200",children:r.map(e=>(0,a.jsxs)(l.default,{href:"/account/orders/".concat(e.id),className:"flex flex-col gap-4 px-4 py-4 sm:flex-row sm:items-center sm:justify-between sm:px-6 hover:bg-gray-50 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[(0,a.jsx)("div",{className:"relative w-14 h-14 bg-gray-100 rounded-lg overflow-hidden flex-shrink-0 flex items-center justify-center text-gray-400 text-xs",children:e.previewProductId&&x[e.previewProductId]?(0,a.jsx)(c.default,{src:x[e.previewProductId],alt:e.previewProductName||"Order item",fill:!0,sizes:"56px",className:"object-cover"}):"No Image"}),(0,a.jsxs)("div",{className:"min-w-0",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-2 mb-1",children:[(0,a.jsx)("p",{className:"font-semibold text-gray-900 truncate",children:e.statusDisplayName||e.id.slice(0,8).toUpperCase()}),(0,a.jsx)(i.OE,{status:e.status})]}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 truncate",children:[(0,u.p6)(e.createdAt)," â€¢ ",e.itemCount," item",e.itemCount>1?"s":""]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between gap-3 sm:justify-end",children:[(0,a.jsx)("p",{className:"font-semibold text-gray-900",children:(0,u.xG)(e.totalAmount)}),(0,a.jsx)(d.Z,{className:"h-5 w-5 text-gray-400"})]})]},e.id))}):(0,a.jsx)(i.Qu,{})})]})}}},function(e){e.O(0,[2972,6853,5878,9714,2971,2117,1744],function(){return e(e.s=7523)}),_N_E=e.O()}]);
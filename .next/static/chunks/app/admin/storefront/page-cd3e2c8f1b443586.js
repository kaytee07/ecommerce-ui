(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7230],{4550:function(e,t,a){Promise.resolve().then(a.bind(a,2985))},875:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});let n=(0,a(9205).Z)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},9322:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});let n=(0,a(9205).Z)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},1671:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});let n=(0,a(9205).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},8736:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});let n=(0,a(9205).Z)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},3113:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});let n=(0,a(9205).Z)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},3245:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});let n=(0,a(9205).Z)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},1817:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});let n=(0,a(9205).Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},4794:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});let n=(0,a(9205).Z)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]])},3247:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});let n=(0,a(9205).Z)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},6275:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});let n=(0,a(9205).Z)("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},2023:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});let n=(0,a(9205).Z)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]])},6865:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});let n=(0,a(9205).Z)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},7689:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});let n=(0,a(9205).Z)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]])},2489:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});let n=(0,a(9205).Z)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},3145:function(e,t,a){"use strict";a.d(t,{default:function(){return r.a}});var n=a(8461),r=a.n(n)},7648:function(e,t,a){"use strict";a.d(t,{default:function(){return r.a}});var n=a(2972),r=a.n(n)},8461:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var a in t)Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}(t,{default:function(){return i},getImageProps:function(){return c}});let n=a(7043),r=a(5346),l=a(5878),s=n._(a(5084));function c(e){let{props:t}=(0,r.getImgProps)(e,{defaultLoader:s.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,a]of Object.entries(t))void 0===a&&delete t[e];return{props:t}}let i=l.Image},2985:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return x}});var n=a(7437),r=a(2265),l=a(3145),s=a(6305),c=a(9714),i=a(2023),d=a(3113);let o=(0,a(9205).Z)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var u=a(7279);let h=["PRIMARY","SECONDARY"],p=()=>({eyebrow:"",headline:"",subheadline:"",ctaText:"",ctaLink:"",imageUrl:"",active:!0});function x(){let[e,t]=(0,r.useState)([]),[a,x]=(0,r.useState)({PRIMARY:p(),SECONDARY:p()}),[f,y]=(0,r.useState)(!0),[m,g]=(0,r.useState)(null),[v,k]=(0,r.useState)(null);(0,r.useEffect)(()=>{(async()=>{y(!0);try{let e=(await s.x.get("/admin/storefront/banners")).data.data||[];t(e)}catch(e){console.error("Failed to fetch storefront banners",e),t([])}finally{y(!1)}})()},[]),(0,r.useEffect)(()=>{e.length&&x(t=>{let a={...t};return h.forEach(t=>{let n=e.find(e=>e.slot===t);n&&(a[t]={eyebrow:n.eyebrow||"",headline:n.headline||"",subheadline:n.subheadline||"",ctaText:n.ctaText||"",ctaLink:n.ctaLink||"",imageUrl:n.imageUrl||"",active:!1!==n.active})}),a})},[e]);let b=(e,t,a)=>{x(n=>({...n,[e]:{...n[e],[t]:a}}))},j=async e=>{k(null),g(e);try{let n=a[e],r=(await s.x.put("/admin/storefront/banners/".concat(e),n)).data.data;t(t=>[...t.filter(t=>t.slot!==e),r]),k("".concat("PRIMARY"===e?"Primary":"Secondary"," banner updated."))}catch(e){console.error("Failed to update banner",e),k("Failed to update banner. Please try again.")}finally{g(null)}},N=async(e,a)=>{let n=new FormData;n.append("file",a);let r=(await s.x.post("/admin/storefront/banners/".concat(e,"/image"),n,{headers:{"Content-Type":"multipart/form-data"}})).data.data;t(t=>[...t.filter(t=>t.slot!==e),r]),x(t=>({...t,[e]:{...t[e],imageUrl:r.imageUrl||""}}))},w=(0,r.useMemo)(()=>{let e={PRIMARY:null,SECONDARY:null};return h.forEach(t=>{let n=a[t].imageUrl;e[t]=n||null}),e},[a]);return(0,n.jsxs)("div",{className:"space-y-8",children:[(0,n.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,n.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"Storefront Banners"}),(0,n.jsx)("p",{className:"text-sm text-gray-600",children:"Update the hero and secondary banners on the storefront homepage. Changes are live immediately."})]}),f?(0,n.jsxs)("div",{className:"flex items-center gap-3 text-gray-500",children:[(0,n.jsx)(c.$j,{size:"sm"}),"Loading banners..."]}):(0,n.jsx)("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:h.map(e=>{let t=a[e],r=w[e],s=m===e,h="PRIMARY"===e?"Primary Hero Banner":"Secondary Banner";return(0,n.jsxs)(c.Zb,{className:"p-6 space-y-5",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-xs uppercase tracking-widest text-gray-400",children:e}),(0,n.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:h})]}),(0,n.jsxs)("div",{className:(0,u.cn)("flex items-center gap-2 text-xs font-semibold px-3 py-1 rounded-full",t.active?"bg-emerald-100 text-emerald-700":"bg-gray-100 text-gray-500"),children:[(0,n.jsx)(i.Z,{className:"h-3.5 w-3.5"}),t.active?"Active":"Inactive"]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-xs uppercase tracking-widest text-gray-400 mb-2",children:"Upload Banner Image"}),(0,n.jsx)(c.Ur,{currentImage:t.imageUrl,onUpload:t=>N(e,t),onRemove:()=>b(e,"imageUrl","")})]}),(0,n.jsx)(c.II,{label:"Eyebrow",placeholder:"Short label (e.g. New Collection)",value:t.eyebrow,onChange:t=>b(e,"eyebrow",t.target.value)}),(0,n.jsx)(c.II,{label:"Headline",placeholder:"Main banner headline",value:t.headline,onChange:t=>b(e,"headline",t.target.value)}),(0,n.jsx)(c.II,{label:"Subheadline",placeholder:"Short supporting copy",value:t.subheadline,onChange:t=>b(e,"subheadline",t.target.value)}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,n.jsx)(c.II,{label:"CTA Text",placeholder:"Button label",value:t.ctaText,onChange:t=>b(e,"ctaText",t.target.value)}),(0,n.jsx)(c.II,{label:"CTA Link",placeholder:"/products or https://",value:t.ctaLink,onChange:t=>b(e,"ctaLink",t.target.value)})]}),(0,n.jsx)(c.II,{label:"Image URL (optional)",placeholder:"Paste a URL instead of uploading",value:t.imageUrl,onChange:t=>b(e,"imageUrl",t.target.value)})]}),(0,n.jsxs)("div",{className:"border border-dashed border-gray-200 rounded-xl overflow-hidden",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2 px-4 py-3 bg-gray-50 text-xs uppercase tracking-widest text-gray-500",children:[(0,n.jsx)(d.Z,{className:"h-4 w-4"}),"Preview"]}),(0,n.jsx)("div",{className:"relative aspect-[16/9] bg-gray-100",children:r?(0,n.jsx)(l.default,{src:r,alt:"".concat(e," banner preview"),fill:!0,className:"object-cover"}):(0,n.jsx)("div",{className:"absolute inset-0 flex items-center justify-center text-sm text-gray-400",children:"No image selected"})})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("label",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,n.jsx)("input",{type:"checkbox",checked:t.active,onChange:t=>b(e,"active",t.target.checked),className:"h-4 w-4 rounded border-gray-300"}),"Banner is active"]}),(0,n.jsx)(c.zx,{onClick:()=>j(e),disabled:s,className:"min-w-[150px] justify-center",children:s?(0,n.jsxs)("span",{className:"flex items-center gap-2",children:[(0,n.jsx)(c.$j,{size:"sm"}),"Saving..."]}):(0,n.jsxs)("span",{className:"flex items-center gap-2",children:[(0,n.jsx)(o,{className:"h-4 w-4"}),"Save banner"]})})]})]},e)})}),v&&(0,n.jsx)("div",{className:"text-sm text-gray-600",children:v})]})}}},function(e){e.O(0,[2972,6853,5878,9714,2971,2117,1744],function(){return e(e.s=4550)}),_N_E=e.O()}]);